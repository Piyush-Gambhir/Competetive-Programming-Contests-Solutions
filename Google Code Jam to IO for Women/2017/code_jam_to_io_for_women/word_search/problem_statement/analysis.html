
<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://www.gstatic.com/external_hosted/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML,Safe"></script>
    <script>
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          inlineMath: [ ['$$$','$$$'] ],
          displayMath: [ ['$$$$','$$$$'] ],
          skipTags: ["script","noscript","style","textarea","pre"],  // allow <code>.
          processEscapes: true
        },
        showProcessingMessages: false,
        messageStyle: "none",
        "HTML-CSS": { scale: 90, fonts: ["TeX"] }
      });
      MathJax.Ajax.loadComplete('https://codingcompetitions.withgoogle.com/static/mathjax-config.js');
      </script>
    <style>
.problem-io-wrapper-new .sampleio-wrapper {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  justify-content: flex-start;
  margin-top: 1rem;
  padding-left: 12.5px;
  padding-right: 12.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-input {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: -12.5px;
  margin-right: 12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-output {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: 12.5px;
  margin-right: -12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-text {
  flex: 1;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-download-button {
  display: none;
  cursor: pointer;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button {
  display: none;
  cursor: pointer;
  position: relative;
  margin-left: 5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup {
  visibility: hidden;
  width: 100px;
  background-color: #999;
  color: #fff;
  text-align: center;
  border-radius: 3px;
  padding: 4px 0;
  position: absolute;
  z-index: 1;
  top: 125%;
  left: 50%;
  margin-left: -50px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup::before {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #999 transparent;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup-shown {
  visibility: visible;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button-hidden {
  display: none;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content {
  display: flex;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 0px 9.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content .sample-content-text {
  flex-grow: 1;
  margin: 0px;
  overflow-x: auto;
  padding-bottom: 9.5px;
  line-height: normal;
  white-space: pre-wrap;
}
.test-data-download-wrapper {
  display: none;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  width: fit-content;
  max-width: 600px;
  margin-top: 1rem;
}
.test-data-download-wrapper .test-data-download-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-text {
  flex: 1;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-download-button {
  display: none;
  cursor: pointer;
}
.test-data-download-wrapper .test-data-download-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  max-width: 600px;
  margin-top: 1rem;
}
.sample-interaction-wrapper .sample-interaction-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.sample-interaction-wrapper .sample-interaction-header .sample-interaction-text {
  flex: 1;
}
.sample-interaction-wrapper .sample-interaction-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #e6e6e6;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-judge-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: left;
  flex-grow: 1;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-solution-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: right;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box .sample-interaction-judge-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper {
  display: flex;
  flex-direction: row-reverse;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box .sample-interaction-solution-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-note {
  font-style: italic;
  color: #4e4e4e;
  margin-right: 20%;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-note {
  font-style: italic;
  color: #4e4e4e;
  margin-left: 20%;
  text-align: end;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-section-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: center;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-spacer {
  height: 9.5px;
}
    </style>
  </head>
  <body>
    <div>
<h3>Code Jam to I/O for Women 2017 - Code Jam to I/O for Women</h3><h1>Analysis: Word Search</h1><h2>Word Search: Analysis</h2>
<h3>Small dataset</h3>
<p>
  One surprisingly viable approach for the Small dataset is to create random
  grids of random sizes and count the numbers of <code>I/O</code>s in them
  until we happen to find a grid with the desired number. Even if we only try
  square grids with a random size and random contents, this is easily fast
  enough to pass. Other optimizations are possible &mdash; we can vary the
  frequencies of <code>I</code>, <code>/</code>, and <code>O</code>, or try to
  edit grids that are close &mdash; but not necessary.
</p><p>
  Another possibility is to directly construct a grid with the desired number
  of <code>I/O</code>s.  Better yet, we can construct one grid with at least
  287 <code>I/O</code>s, and then use it in every test case, eliminating
  <code>I/O</code>s individually until we have the desired number. To ensure
  that <code>I/O</code>s do not interfere with each other, let's space them out
  in a field of <code>O</code>s like this:
</p><p>
  <code>I/OOI/OOI/OO</code>...<br>
  <code>OOOOOOOOOOOO</code>...<br>
  <code>I/OOI/OOI/OO</code>...<br>
  <code>OOOOOOOOOOOO</code>...<br>
  <code>I/OOI/OOI/OO</code>...<br>
  ...<br>
</p><p>
  If we extend this pattern to fill a 50 by 50 grid, we will have 25 rows with
  12 <code>I/O</code>s each; 25 &times; 12 = 300, which is more than enough. We
  can eliminate an individual <code>I/O</code> by changing its <code>/</code>
  into another <code>O</code>. With this grid setup, that change cannot
  possibly affect other existing <code>I/O</code>s or create new ones. Other
  similar strategies are possible.
</p>
<h3>Large dataset</h3>
<p>
  The particular construction strategy above cannot produce enough
  <code>I/O</code>s when each of our grid dimensions is capped at 15. Nor will
  random generation help; we would be lucky to get a random 15 x 15 grid for
  <b>N</b> = 80, let alone 287. We need to pack as many <code>I/O</code>s into
  the grid as possible. Let's start with a single row; we can fit many
  <code>I/O</code>s in, overlapping forward ones with backward ones:
</p><p>
  <code>I/O/I/O/I</code>...<br>
</p><p>
  If we stack these rows on top of each other, we will also form many diagonal
  <code>I/O</code>s:
</p><p>
  <code>I/O/I/O/I</code>...<br>
  <code>I/O/I/O/I</code>...<br>
  <code>I/O/I/O/I</code>...<br>
  ...<br>
</p><p>
  How many <code>I/O</code>s are in the 15 by 15 version of this grid? Let's
  count by looking only at the <code>/</code>es. Any <code>/</code> in the top
  or bottom row is part of exactly one <code>I/O</code>, running horizontally.
  Any other <code>I/O</code> is part of exactly three <code>I/O</code>s: one
  horizontal and two diagonal. There are 7 <code>/</code>es in each row; the 14
  in the top and bottom row contribute 14 <code>I/O</code>s, and the 13 &times;
  7 = 91 in the other rows contribute 91 &times; 3 = 273. That's a total of
  287, which is conveniently exactly the maximum number of <code>I/O</code>s we
  could be asked to produce. Note that we do not need to prove that this
  arrangement packs in as many <code>I/O</code>s as possible; we only had to
  find a way to fit at least 287 in.
</p><p>
  Now, in each test case, we only need to whittle the number of
  <code>I/O</code>s down from 287 to <b>N</b>. As we do this, we must be
  careful not to create any new <code>I/O</code>s or destroy more
  <code>I/O</code>s than we want to. One safe strategy is to change
  <code>/</code>es into <code>O</code>s, as in the Small strategy above.
  Changing a <code>/</code> in the top or bottom row eliminates one
  <code>I/O</code>, and changing any other <code>/</code> eliminates three. We
  can reach any value of <b>N</b> by first removing as many "threes" as
  possible (without going below <b>N</b>) and then removing as many "ones" as
  possible (without going below <b>N</b>). For example, for <b>N</b> = 280, we
  remove two "threes" and one "one". For <b>N</b> = 4, we remove everything
  except for four of the "ones". Since there are only 288 possible test cases,
  we can even precompute answers to all of them before downloading the dataset
  (but this is not necessary).
</p>

    </div>
  </body>
</html>
