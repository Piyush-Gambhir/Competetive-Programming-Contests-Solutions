
<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://www.gstatic.com/external_hosted/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML,Safe"></script>
    <script>
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          inlineMath: [ ['$$$','$$$'] ],
          displayMath: [ ['$$$$','$$$$'] ],
          skipTags: ["script","noscript","style","textarea","pre"],  // allow <code>.
          processEscapes: true
        },
        showProcessingMessages: false,
        messageStyle: "none",
        "HTML-CSS": { scale: 90, fonts: ["TeX"] }
      });
      MathJax.Ajax.loadComplete('https://codingcompetitions.withgoogle.com/static/mathjax-config.js');
      </script>
    <style>
.problem-io-wrapper-new .sampleio-wrapper {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  justify-content: flex-start;
  margin-top: 1rem;
  padding-left: 12.5px;
  padding-right: 12.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-input {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: -12.5px;
  margin-right: 12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-output {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: 12.5px;
  margin-right: -12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-text {
  flex: 1;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-download-button {
  display: none;
  cursor: pointer;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button {
  display: none;
  cursor: pointer;
  position: relative;
  margin-left: 5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup {
  visibility: hidden;
  width: 100px;
  background-color: #999;
  color: #fff;
  text-align: center;
  border-radius: 3px;
  padding: 4px 0;
  position: absolute;
  z-index: 1;
  top: 125%;
  left: 50%;
  margin-left: -50px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup::before {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #999 transparent;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup-shown {
  visibility: visible;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button-hidden {
  display: none;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content {
  display: flex;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 0px 9.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content .sample-content-text {
  flex-grow: 1;
  margin: 0px;
  overflow-x: auto;
  padding-bottom: 9.5px;
  line-height: normal;
  white-space: pre-wrap;
}
.test-data-download-wrapper {
  display: none;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  width: fit-content;
  max-width: 600px;
  margin-top: 1rem;
}
.test-data-download-wrapper .test-data-download-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-text {
  flex: 1;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-download-button {
  display: none;
  cursor: pointer;
}
.test-data-download-wrapper .test-data-download-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  max-width: 600px;
  margin-top: 1rem;
}
.sample-interaction-wrapper .sample-interaction-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.sample-interaction-wrapper .sample-interaction-header .sample-interaction-text {
  flex: 1;
}
.sample-interaction-wrapper .sample-interaction-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #e6e6e6;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-judge-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: left;
  flex-grow: 1;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-solution-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: right;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box .sample-interaction-judge-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper {
  display: flex;
  flex-direction: row-reverse;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box .sample-interaction-solution-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-note {
  font-style: italic;
  color: #4e4e4e;
  margin-right: 20%;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-note {
  font-style: italic;
  color: #4e4e4e;
  margin-left: 20%;
  text-align: end;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-section-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: center;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-spacer {
  height: 9.5px;
}
    </style>
  </head>
  <body>
    <div>
<h3>Kick Start 2022 - Round G</h3><h1>Analysis: Curling</h1><p>
  Let us denote the score of the red team and the yellow team as $$$s_{red}$$$
  and $$$s_{yellow}$$$, respectively.
</p>

<h3>Test Set 1</h3>

For this test set, $$$\mathbf{M}$$$ = 0, i.e., there are no stones remaining on the curling
sheet for the yellow team. In this case:

<ul>
  <li>$$$s_{red} = $$$ number of stones which are in the house.</li>
  <li>$$$s_{yellow} = 0$$$.</li>
</ul>

<br />

For a house of radius $$$\mathbf{R_h}$$$ centered at $$$(0, 0)$$$, a stone centered at $$$(x,
y)$$$ with radius $$$\mathbf{R_s}$$$ is:

<ol>
  <li>
    in the house iff: $$$\sqrt{x^2 + y^2} \le \mathbf{R_h} + \mathbf{R_s}$$$ (Equality is for
    the case when the stone and the house are tangent to each other. Figure 1
    shows such a case).
  </li>
  <li>outside the house iff: $$$\sqrt{x^2 + y^2} \gt \mathbf{R_h} + \mathbf{R_s}$$$.</li>
</ol>

<br />

To count the stones in the house, we can iterate over the stones and count those
which satisfy condition 1, i.e., $$$x^2 + y^2 \le (\mathbf{R_h} + \mathbf{R_s})^2$$$.

<center>
  <figure>
    <img
      src="images/curling_condition.png"
      style="max-width: 600px"
      alt="Figure 1"
    />
    <figcaption>Figure 1: Stone touches the house externally.</figcaption>
  </figure>
</center>

<p>Here is a sample code in C++:</p>

<pre>
  <code class="language-cpp">
  int s_red = 0, s_yellow = 0;
  for(int i = 1; i <= N; i++) {
    s_red += (x[i] * x[i] + y[i] * y[i]) <= (rh + rs) * (rh + rs);
  }
  </code>
</pre>

<h3>Test Set 2</h3>

In this test set, we can have non-zero number of stones remaining for both
teams. Figure 2 shows some examples of scoring in the game. To calculate the
score of a team, we can count the number of stones which contribute to the score
of a team. A stone contributes to the score of a team iff:

<ol>
  <li>It is in the house.</li>
  <li>
    It is closer to the center $$$(0, 0)$$$ than all of the stones of the
    opponent team.
  </li>
</ol>

<center>
  <figure>
    <img
      src="images/curling_scores.png"
      style="max-width: 600px"
      alt="Figure 2"
    />
    <figcaption>
      Figure 2: Examples of scoring in curling. Numbered circles are the only
      scoring ones.
    </figcaption>
  </figure>
</center>

<p></p>

<p>Here is a sample code in C++:</p>

<pre>
  <code class="language-cpp">
int dist(int x, int y) { return x * x + y * y; }

void solve() {
  int s_red = 0;
  for(int i = 1; i <= N; i++) {
   bool is_scoring = dist(x[i], y[i]) <= (rs + rh) * (rs + rh); // Inside house.
   for(int j = 1; j <= M; j++) {
    is_scoring &= dist(x[i], y[i]) < dist(z[j], w[j]);
   }
   s_red += is_scoring;
  }

  int s_yellow = 0;
  for(int i = 1; i <= M; i++) {
   bool is_scoring = dist(z[i], w[i]) <= (rs + rh) * (rs + rh); // Inside house.
   for(int j = 1; j <= N; j++) {
    is_scoring &= dist(z[i], w[i]) < dist(x[j], y[j]);
   }
   s_yellow += is_scoring;
  }
}
  </code>
</pre>

<p>
  The overall time complexity of the above solution would be $$$O(\mathbf{N} \times
  \mathbf{M})$$$.
</p>

<h4>Another solution</h4>

<p>
  Note that the score of at least one team must be $$$0$$$. If a team does not
  have any stones on the curling sheet, their score is $$$0$$$. If both teams
  have at least one stone still in play, the opponent of the team that has the
  stone closest to the center will have a $$$0$$$ score.
</p>

<ul>
  <li>
    Case 1: $$$\mathbf{N} = 0 \text{ or } \mathbf{M} = 0$$$, i.e. there is at least one team
    that does not have any stones remaining on the curling sheet.
    <ul>
      <li>
        In this case, the score of the team which does not have any stones left
        is $$$0$$$ and the score of the other team is the number of stones in
        the house.
      </li>
    </ul>
  </li>
  <br />
  <li>
    Case 2: $$$\mathbf{N}\gt 0$$$ and $$$\mathbf{M} \gt 0$$$, i.e. each team has at least one
    stone on the curling sheet.
    <ul>
      <li>
        Let $$$m_{red}$$$ be the least squared distance of a stone of the red
        team, and $$$m_{yellow}$$$ be the least squared distance of a stone of
        the yellow team. \begin{aligned} m_{red} &=\min _{1 \leq i \leq
        \mathbf{N}}\left(\mathbf{X}_{\mathbf{i}}^2+\mathbf{Y}_{\mathbf{i}}^2\right)
        \\ m_{yellow} &=\min _{1 \leq i \leq
        \mathbf{M}}\left(\mathbf{Z}_{\mathbf{i}}^2+\mathbf{W}_{\mathbf{i}}^2\right)
        \end{aligned} Note: $$$m_{red} \neq m_{yellow}$$$, as no two stones can
        be equally close to the center $$$(0,0)$$$.
        <p>The score of teams:</p>
        <ul>
          \begin{align*} s_{red} = \begin{cases} \text {number of stones such
          that } \mathbf{X_i}^2 + \mathbf{Y_i}^2 \lt m_{yellow} \text{ and }
          \mathbf{X_i}^2 + \mathbf{Y_i}^2 \le (\mathbf{R_h} + \mathbf{R_s})^2, &
          m_{red} < m_{yellow} \\ 0, & m_{red} > m_{yellow} \\ \end{cases}
          \end{align*}
        </ul>

        <ul>
          \begin{align*} s_{yellow} = \begin{cases} \text {number of stones such
          that } \mathbf{Z_i}^2 + \mathbf{W_i}^2 \lt m_{red} \text{ and }
          \mathbf{Z_i}^2 + \mathbf{W_i}^2 \le (\mathbf{R_h} + \mathbf{R_s})^2, &
          m_{yellow} < m_{red} \\ 0, & m_{yellow} > m_{red} \\ \end{cases}
          \end{align*}
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>
  The overall time complexity of the above solution would be $$$O(\mathbf{N} + \mathbf{M})$$$.
</p>


  <div class="test-data-download-wrapper">
    <div class="test-data-download-header">
      <div class="test-data-download-header-text">Test Data</div>
      <div class="test-data-download-header-download-button">
        <a href="test_data.zip" target="_blank">
          <i class="material-icons grey">save_alt</i>
        </a>
      </div>
    </div>
    <div class="test-data-download-content">
      <div class="test-data-download-warning">
        <span class="material-icons" style="color: grey; vertical-align: middle;">info</span>
        <span style="vertical-align: middle;">We recommend that you practice debugging solutions without looking at the test data.</span>
      </div>
    </div>
  </div>


    </div>
  </body>
</html>
