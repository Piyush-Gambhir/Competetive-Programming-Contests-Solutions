
<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://www.gstatic.com/external_hosted/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML,Safe"></script>
    <script>
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          inlineMath: [ ['$$$','$$$'] ],
          displayMath: [ ['$$$$','$$$$'] ],
          skipTags: ["script","noscript","style","textarea","pre"],  // allow <code>.
          processEscapes: true
        },
        showProcessingMessages: false,
        messageStyle: "none",
        "HTML-CSS": { scale: 90, fonts: ["TeX"] }
      });
      MathJax.Ajax.loadComplete('https://codingcompetitions.withgoogle.com/static/mathjax-config.js');
      </script>
    <style>
.problem-io-wrapper-new .sampleio-wrapper {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  justify-content: flex-start;
  margin-top: 1rem;
  padding-left: 12.5px;
  padding-right: 12.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-input {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: -12.5px;
  margin-right: 12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-output {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: 12.5px;
  margin-right: -12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-text {
  flex: 1;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-download-button {
  display: none;
  cursor: pointer;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button {
  display: none;
  cursor: pointer;
  position: relative;
  margin-left: 5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup {
  visibility: hidden;
  width: 100px;
  background-color: #999;
  color: #fff;
  text-align: center;
  border-radius: 3px;
  padding: 4px 0;
  position: absolute;
  z-index: 1;
  top: 125%;
  left: 50%;
  margin-left: -50px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup::before {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #999 transparent;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup-shown {
  visibility: visible;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button-hidden {
  display: none;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content {
  display: flex;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 0px 9.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content .sample-content-text {
  flex-grow: 1;
  margin: 0px;
  overflow-x: auto;
  padding-bottom: 9.5px;
  line-height: normal;
  white-space: pre-wrap;
}
.test-data-download-wrapper {
  display: none;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  width: fit-content;
  max-width: 600px;
  margin-top: 1rem;
}
.test-data-download-wrapper .test-data-download-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-text {
  flex: 1;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-download-button {
  display: none;
  cursor: pointer;
}
.test-data-download-wrapper .test-data-download-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  max-width: 600px;
  margin-top: 1rem;
}
.sample-interaction-wrapper .sample-interaction-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.sample-interaction-wrapper .sample-interaction-header .sample-interaction-text {
  flex: 1;
}
.sample-interaction-wrapper .sample-interaction-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #e6e6e6;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-judge-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: left;
  flex-grow: 1;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-solution-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: right;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box .sample-interaction-judge-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper {
  display: flex;
  flex-direction: row-reverse;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box .sample-interaction-solution-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-note {
  font-style: italic;
  color: #4e4e4e;
  margin-right: 20%;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-note {
  font-style: italic;
  color: #4e4e4e;
  margin-left: 20%;
  text-align: end;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-section-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: center;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-spacer {
  height: 9.5px;
}
    </style>
  </head>
  <body>
    <div>
<h3>Kick Start 2020 - Round E</h3><h1>Analysis: Toys</h1><p>
  Let us say Axel can play with the toys in multiple rounds (starting from 1), where each round starts
  with the toy that has the smallest number and finishes with the toy that has the largest number.
  There are a few observations:
</p>
<ol>
  <li>Axel can play with each toy at least once, in round 1.</li>
  <li>If Axel cannot play indefinitely, in round 2 he will get stuck at some toy and start crying.</li>
  <li>If Axel can play with a toy more than twice (i.e. reaches round 3), he can keep playing indefinitely.</li>
</ol>

<h3>Test Set 1</h3>
<p>
  For this test set, we can generate all subsets of the toys in order. For each subset, we can loop
  over the toys in the subset and calculate the maximum time Axel can play. This maximum time will
  be either INDEFINITELY (if Axel can play more than twice as in Observation 3), or sum of the
  enjoyments of the toys played until Axel gets stuck as in Observation 2. We can keep track of the
  maximum time for each subset and if two subsets have the same maximum time, we will consider the one
  with minimum toys removed (maximum subset size). As number of subsets will be 2<sup><b>N</b></sup> and for
  each subset, time spent by Axel is calculated in linear time, total complexity of the solution will be
  O(<b>N</b> &times; 2<sup><b>N</b></sup>).
</p>

<h3>Test Set 2</h3>
<p>
  Let us say we have <i>K</i> toys. If Axel can play indefinitely with these toys, for each toy, its
  remembrance should be less than or equal to the sum of enjoyment of all other toys except this
  one. If <i>SUM</i> is total sum of enjoyments of all the toys that Axel can play with, we can say, for each <i>i</i> = 1 to <i>K</i>,
  <b>R<sub>i</sub></b> &le; <i>SUM</i> - <b>E<sub>i</sub></b> Or <b>R<sub>i</sub></b> + <b>E<sub>i</sub></b> &le; <i>SUM</i>.
</p>
<p>
  If Axel cannot play with these <i>K</i> toys indefinitely, we can try removing all the toys violating the
  condition <b>R<sub>i</sub></b> + <b>E<sub>i</sub></b> &le; <i>SUM</i>, so that we can get
  a list of toys with no violation and Axel can play indefinitely. Here, we can remove the toys
  violating the condition in any order. But for simplicity, we will first remove a toy
  for which <b>R<sub>i</sub></b> + <b>E<sub>i</sub></b> is the largest. The reason being, if we remove some other
  toy, it will only decrease the <i>SUM</i> by enjoyment of the other toy and this toy would still be violating
  the condition <b>R<sub>i</sub></b> + <b>E<sub>i</sub></b> &le; <i>SUM</i>.
</p>
<p>
  In this test set, we can keep a list of the toys such that Axel can play with them indefinitely.
  Also, we will have a track of total time played till now (let us say <i>cur_time</i>), maximum
  possible time that Axel can spend playing (let us say <i>max_time</i>) and count of toys
  removed. Initially, <i>cur_time</i> will be total time taken in round 1 i.e. <i>SUM</i> as per Observation 1.
  Now, we will simulate the round 2 and have an empty list initially. We will keep adding toys 1 to
  <b>N</b> one by one to this list.
  After adding a toy to the list, we will check if we have some toy in the list violating the condition
  <b>R<sub>i</sub></b> + <b>E<sub>i</sub></b> &le; <i>SUM</i>. If so, we will remove the toy violating
  the condition that has the largest <b>R<sub>i</sub></b> + <b>E<sub>i</sub></b>.
  Once we add a toy to the list, we will add its enjoyment to <i>cur_time</i> and while removing a toy from the list,
  we will remove its corresponding time (i.e. twice the enjoyment time for this toy) from <i>cur_time</i>,
  and remove it's enjoyment time from the <i>SUM</i>. After each
  toy is added and toys violating the condition are removed, we will update <i>max_time</i> if <i>cur_time</i> is optimal. Also,
  we will keep track of total toys removed from the list and update that as well while updating <i>max_time</i>.
  Finally, when all the toys have been added to the list and processed, if the list is not empty, Axel
  can play with the toys indefinitely. Else, we have <i>max_time</i> and corresponding toys removed as our
  answer.
</p>
<p>
  To maintain the list of toys and remove a toy with the largest <b>R<sub>i</sub></b> + <b>E<sub>i</sub></b> efficiently,
  we can use <a href="https://en.wikipedia.org/wiki/Priority_queue">Priority Queue</a> to store toys in decreasing order of their <b>R<sub>i</sub></b> + <b>E<sub>i</sub></b>.
  As we are processing each toy twice, once for calculating initial <i>SUM</i>, and other for processing second
  round where in priority queue each toy can be added/removed maximum one time, total complexity of
  solution will be O(<b>N</b> log <b>N</b>).
</p>


  <div class="test-data-download-wrapper">
    <div class="test-data-download-header">
      <div class="test-data-download-header-text">Test Data</div>
      <div class="test-data-download-header-download-button">
        <a href="test_data.zip" target="_blank">
          <i class="material-icons grey">save_alt</i>
        </a>
      </div>
    </div>
    <div class="test-data-download-content">
      <div class="test-data-download-warning">
        <span class="material-icons" style="color: grey; vertical-align: middle;">info</span>
        <span style="vertical-align: middle;">We recommend that you practice debugging solutions without looking at the test data.</span>
      </div>
    </div>
  </div>


    </div>
  </body>
</html>
