
<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://www.gstatic.com/external_hosted/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML,Safe"></script>
    <script>
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          inlineMath: [ ['$$$','$$$'] ],
          displayMath: [ ['$$$$','$$$$'] ],
          skipTags: ["script","noscript","style","textarea","pre"],  // allow <code>.
          processEscapes: true
        },
        showProcessingMessages: false,
        messageStyle: "none",
        "HTML-CSS": { scale: 90, fonts: ["TeX"] }
      });
      MathJax.Ajax.loadComplete('https://codingcompetitions.withgoogle.com/static/mathjax-config.js');
      </script>
    <style>
.problem-io-wrapper-new .sampleio-wrapper {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  justify-content: flex-start;
  margin-top: 1rem;
  padding-left: 12.5px;
  padding-right: 12.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-input {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: -12.5px;
  margin-right: 12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-output {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: 12.5px;
  margin-right: -12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-text {
  flex: 1;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-download-button {
  display: none;
  cursor: pointer;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button {
  display: none;
  cursor: pointer;
  position: relative;
  margin-left: 5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup {
  visibility: hidden;
  width: 100px;
  background-color: #999;
  color: #fff;
  text-align: center;
  border-radius: 3px;
  padding: 4px 0;
  position: absolute;
  z-index: 1;
  top: 125%;
  left: 50%;
  margin-left: -50px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup::before {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #999 transparent;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup-shown {
  visibility: visible;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button-hidden {
  display: none;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content {
  display: flex;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 0px 9.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content .sample-content-text {
  flex-grow: 1;
  margin: 0px;
  overflow-x: auto;
  padding-bottom: 9.5px;
  line-height: normal;
  white-space: pre-wrap;
}
.test-data-download-wrapper {
  display: none;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  width: fit-content;
  max-width: 600px;
  margin-top: 1rem;
}
.test-data-download-wrapper .test-data-download-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-text {
  flex: 1;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-download-button {
  display: none;
  cursor: pointer;
}
.test-data-download-wrapper .test-data-download-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  max-width: 600px;
  margin-top: 1rem;
}
.sample-interaction-wrapper .sample-interaction-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.sample-interaction-wrapper .sample-interaction-header .sample-interaction-text {
  flex: 1;
}
.sample-interaction-wrapper .sample-interaction-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #e6e6e6;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-judge-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: left;
  flex-grow: 1;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-solution-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: right;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box .sample-interaction-judge-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper {
  display: flex;
  flex-direction: row-reverse;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box .sample-interaction-solution-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-note {
  font-style: italic;
  color: #4e4e4e;
  margin-right: 20%;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-note {
  font-style: italic;
  color: #4e4e4e;
  margin-left: 20%;
  text-align: end;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-section-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: center;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-spacer {
  height: 9.5px;
}
    </style>
  </head>
  <body>
    <div>
<h3>Code Jam 2016 - Round 3</h3><h1>Rebel Against The Empire</h1><h3>Problem</h3>
<p>
You are a rebel against the evil Galactic Empire, and you are on the run!
</p><p>
You have sabotaged the Empire's Factory of Evil, and imperial security
forces will be after you soon! The factory is located on asteroid 0 in a system
of <b>N</b> numbered asteroids. Your getaway ship, the Century Quail, is
located on asteroid 1, and if you can get there, you will be able to fly away
safely.
</p><p>
Each asteroid is a single point in space with a velocity, and you move through
space along with whichever asteroid you are currently on. Your Asteroid Jumper
will allow you to instantaneously jump between any two asteroids in the system.
Long jumps are scarier than short ones (and the vacuum of space is terrifying),
so you want to minimize the maximum distance you need to jump. However,
starting now, if you ever spend more than a continuous <b>S</b> seconds without
jumping, the imperial security forces will catch you. That is, the interval
from now until your first jump, and each interval between subsequent jumps,
must be less than or equal to <b>S</b>. You may jump at <i>any</i> instant;
it does not have to be after an integer number of seconds have elapsed. You
escape the instant you jump to asteroid 1.
</p><p>
The i-th asteroid starts at position (<b>x<sub>i</sub></b>,
<b>y<sub>i</sub></b>, <b>z<sub>i</sub></b>) in space, and it will move a
total distance of (<b>V<sub>xi</sub></b>, <b>V<sub>yi</sub></b>,
<b>V<sub>zi</sub></b>) each second. This movement is continuous throughout time;
it does not update discretely each second. (It is also possible for an
asteroid to be stationary.) Nothing happens if asteroids occupy the same point
in space at the same time. You can only travel between two asteroids by
jumping, even if they happen to occupy the same point at the instant of your
jump.
</p><p>
In the escape plan that minimizes the maximum jump distance, what is that
maximum jump distance?
</p>

<h3>Input</h3>
<p>
The first line of the input gives the number of test cases, <b>T</b>. <b>T</b>
test cases follow. The first line of each test case contains two integers:
<b>N</b> (the number of asteroids) and <b>S</b> (the limit on how long you can
go without jumping). Next, there are <b>N</b> lines describing the asteroids.
The i-th of these lines (counting starting from 0) contains six integers: the
initial (<b>x<sub>i</sub></b>, <b>y<sub>i</sub></b>, <b>z<sub>i</sub></b>)
position of the i-th asteroid in space, and the distance (
<b>V<sub>xi</sub></b>, <b>V<sub>yi</sub></b>, <b>V<sub>zi</sub></b>) it moves
in a single second.
</p>

<h3>Output</h3>
<p>
For each test case, output one line containing <code>Case #x: y</code>, where
<code>x</code> is the test case number (starting from 1) and <code>y</code> is
a floating-point number: the distance of the longest jump you will have to make
in order to get away. <code>y</code> will be considered correct if it is within
an absolute or relative error of 10<sup>-4</sup> of the correct answer. See the
<a href="https://codingcompetitions.withgoogle.com/codejam/faq" target="_blank">FAQ</a> for an
explanation of what that means, and what formats of real numbers we accept.
</p>

<h3>Limits</h3>
<p>
Time limit: 20 seconds per test set.<br/>
Memory limit: 1 GB.<br/>
1 &le; <b>T</b> &le; 20.<br/>
2 &le; <b>N</b> &le; 1000.<br/>
1 &le; <b>S</b> &le; 100.<br/>
-500 &le; <b>x<sub>i</sub></b> &le; 500.<br/>
-500 &le; <b>y<sub>i</sub></b> &le; 500.<br/>
-500 &le; <b>z<sub>i</sub></b> &le; 500.<br/>
</p>

<h4>Small dataset (Test Set 1 - Visible)</h4>
<p>
<b>V<sub>xi</sub></b> = 0.<br/>
<b>V<sub>yi</sub></b> = 0.<br/>
<b>V<sub>zi</sub></b> = 0.<br/>
</p>

<h4>Large dataset (Test Set 2 - Hidden)</h4>
-500 &le; <b>V<sub>xi</sub></b> &le; 500.<br/>
-500 &le; <b>V<sub>yi</sub></b> &le; 500.<br/>
-500 &le; <b>V<sub>zi</sub></b> &le; 500.<br/>
<p>
</p>


  <h3>Sample</h3>
  <div class="problem-io-wrapper-new">
    <div class="sampleio-wrapper">
      <div class="sample-input">
        <div class="sample-header">
          <div class="sample-header-text">Sample Input</div>
          <div class="sample-header-download-button">
            <a href="rebel_against_the_empire_sample_ts1_input.txt" target="_blank" aria-label="Download">
              <i class="material-icons grey">save_alt</i>
            </a>
          </div>
          <div class="sample-header-copy-button" onclick="
              const copyText = document.getElementById('sample_input_0').textContent;
              const textArea = document.createElement('textarea');
              textArea.textContent = copyText;
              textArea.style.position = 'absolute';
              textArea.style.left = '-100%';
              document.body.append(textArea);
              textArea.select();
              document.execCommand('copy');
              textArea.remove();
              const copyPopup = document.getElementById('sample_input_copy_popup_0');
              copyPopup.classList.add('sample-header-copy-popup-shown');
              setTimeout(function(){ copyPopup.classList.remove('sample-header-copy-popup-shown'); }, 2000);
          " aria-label="Copy to clipboard">
            <i class="material-icons grey">content_copy</i>
            <span class="sample-header-copy-popup" id="sample_input_copy_popup_0">
              Copied!
            </span>
          </div>
        </div>
        <div class="sample-content">
          <pre class="sample-content-text" id="sample_input_0">3
3 7
0 0 0 0 0 0
1 2 2 0 0 0
1 1 1 0 0 0
5 10
0 0 0 0 0 0
35 0 0 -1 0 0
1 54 0 0 -2 0
2 -150 0 0 10 0
4 0 0 -1 0 0
3 1
-10 2 0 1 0 0
0 0 10 0 0 -1
-10 -2 0 1 0 0
</pre>
        </div>
      </div>
      <div class="sample-output">
        <div class="sample-header">
          <div class="sample-header-text">Sample Output</div>
          <div class="sample-header-download-button">
            <a href="rebel_against_the_empire_sample_ts1_output.txt" target="_blank" aria-label="Download">
              <i class="material-icons grey">save_alt</i>
            </a>
          </div>
          <div class="sample-header-copy-button" onclick="
              const copyText = document.getElementById('sample_output_0').textContent;
              const textArea = document.createElement('textarea');
              textArea.textContent = copyText;
              textArea.style.position = 'absolute';
              textArea.style.left = '-100%';
              document.body.append(textArea);
              textArea.select();
              document.execCommand('copy');
              textArea.remove();
              const copyPopup = document.getElementById('sample_output_copy_popup_0');
              copyPopup.classList.add('sample-header-copy-popup-shown');
              setTimeout(function(){ copyPopup.classList.remove('sample-header-copy-popup-shown'); }, 2000);
          " aria-label="Copy to clipboard">
            <i class="material-icons grey">content_copy</i>
            <span class="sample-header-copy-popup" id="sample_output_copy_popup_0">
              Copied!
            </span>
          </div>
        </div>
        <div class="sample-content">
          <pre class="sample-content-text" id="sample_output_0">Case #1: 1.7320508
Case #2: 2.0000000
Case #3: 4.0000000
</pre>
        </div>
      </div>
    </div>
  </div>


<p>
Sample case #1 is the only sample case that could appear in the Small dataset.
Any of the sample cases could appear in the Large dataset.
</p><p>
In sample case #1, we start on a stationary asteroid at (0, 0, 0), and our ship
is on an asteroid at (1, 2, 2). There is another asteroid at (1, 1, 1). One
option is to jump directly to our ship, which is a distance of 3 away. Another
option is to jump to the other asteroid, which is a distance of sqrt(3) away,
and then jump to the ship from there, which is a distance of sqrt(2) away. The
maximum jump distance is 3 for the first option and sqrt(3) for the second
option, so the second option is preferable.
</p><p>
Note that the value of <b>S</b> does not matter in the Small cases. Since all
of the asteroids are stationary, there is no reason to wait around; we can make
all jumps instantaneously.
</p><p>
In sample case #2, we start on a stationary asteroid at (0, 0, 0). We can wait
there for 4 seconds for asteroid 4 to come very close, jump onto it, fly for 1
second on it, and then jump back at time 5 back to asteroid 0 (the distance
between the two asteroids is 1 at this moment). There we wait 10 seconds,
cutting it very close to being caught, and then jump to the speeding asteroid 3
at time 15. Two seconds later, asteroid 3 flies by asteroid 2, and we jump to
asteroid 2. At time 27, we can jump from asteroid 2 to asteroid 0. There we
patiently wait until time 35 when asteroid 1 reaches us, then we can jump onto
it and escape.
The longest jump we made was from asteroid 0 to asteroid 3 at time 15, and the
distance we jumped was 2.
</p><p>
In sample case #3, the security forces are really active! You could, of course,
wait one second and jump directly to asteroid 1, but a better choice - that
allows you to make jumps no longer than 4 - is to jump back and forth between
asteroids 0 and 2; while waiting for asteroid 1 to get close, and only then
jump to it.
</p>

    </div>
  </body>
</html>
