
<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://www.gstatic.com/external_hosted/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML,Safe"></script>
    <script>
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          inlineMath: [ ['$$$','$$$'] ],
          displayMath: [ ['$$$$','$$$$'] ],
          skipTags: ["script","noscript","style","textarea","pre"],  // allow <code>.
          processEscapes: true
        },
        showProcessingMessages: false,
        messageStyle: "none",
        "HTML-CSS": { scale: 90, fonts: ["TeX"] }
      });
      MathJax.Ajax.loadComplete('https://codingcompetitions.withgoogle.com/static/mathjax-config.js');
      </script>
    <style>
.problem-io-wrapper-new .sampleio-wrapper {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  justify-content: flex-start;
  margin-top: 1rem;
  padding-left: 12.5px;
  padding-right: 12.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-input {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: -12.5px;
  margin-right: 12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-output {
  display: flex;
  flex-direction: column;
  flex: 1 1 0px;
  margin-left: 12.5px;
  margin-right: -12.5px;
  max-width: 50%;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-text {
  flex: 1;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-download-button {
  display: none;
  cursor: pointer;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button {
  display: none;
  cursor: pointer;
  position: relative;
  margin-left: 5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup {
  visibility: hidden;
  width: 100px;
  background-color: #999;
  color: #fff;
  text-align: center;
  border-radius: 3px;
  padding: 4px 0;
  position: absolute;
  z-index: 1;
  top: 125%;
  left: 50%;
  margin-left: -50px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup::before {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #999 transparent;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button .sample-header-copy-popup-shown {
  visibility: visible;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-header .sample-header-copy-button-hidden {
  display: none;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content {
  display: flex;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 0px 9.5px;
}
.problem-io-wrapper-new .sampleio-wrapper .sample-content .sample-content-text {
  flex-grow: 1;
  margin: 0px;
  overflow-x: auto;
  padding-bottom: 9.5px;
  line-height: normal;
  white-space: pre-wrap;
}
.test-data-download-wrapper {
  display: none;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  width: fit-content;
  max-width: 600px;
  margin-top: 1rem;
}
.test-data-download-wrapper .test-data-download-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-text {
  flex: 1;
}
.test-data-download-wrapper .test-data-download-header .test-data-download-header-download-button {
  display: none;
  cursor: pointer;
}
.test-data-download-wrapper .test-data-download-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #f5f5f5;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  max-width: 600px;
  margin-top: 1rem;
}
.sample-interaction-wrapper .sample-interaction-header {
  display: flex;
  flex-direction: row;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;
  border-top: 1px solid #ccc;
  border-radius: 4px 4px 0px 0px;
  padding: 9.5px 9.5px 7px 9.5px;
  font-family: 'Google Sans';
  font-size: 1.2rem;
  font-weight: 300;
}
.sample-interaction-wrapper .sample-interaction-header .sample-interaction-text {
  flex: 1;
}
.sample-interaction-wrapper .sample-interaction-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  border: 1px solid #ccc;
  border-radius: 0px 0px 4px 4px;
  background-color: #e6e6e6;
  padding: 9.5px 9.5px 9.5px 9.5px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-judge-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: left;
  flex-grow: 1;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-solution-labels .sample-interaction-solution-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: right;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper {
  display: flex;
  flex-direction: row;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-output-wrapper .sample-interaction-judge-output-box .sample-interaction-judge-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper {
  display: flex;
  flex-direction: row-reverse;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box {
  text-align: start;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 4px 8px;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-output-wrapper .sample-interaction-solution-output-box .sample-interaction-solution-output-test {
  margin: 0;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-judge-note {
  font-style: italic;
  color: #4e4e4e;
  margin-right: 20%;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-solution-note {
  font-style: italic;
  color: #4e4e4e;
  margin-left: 20%;
  text-align: end;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-section-label {
  font-weight: bold;
  color: #4e4e4e;
  text-align: center;
}
.sample-interaction-wrapper .sample-interaction-content .sample-interaction-block-spacer {
  height: 9.5px;
}
    </style>
  </head>
  <body>
    <div>
<h3>Code Jam 2021 - Qualification Round</h3><h1>Median Sort</h1><h3>Problem</h3>
<p>
You want to sort $$$\mathbf{N}$$$ distinct items, $$$x_1, x_2, \dots, x_\mathbf{N}$$$. Unfortunately, you do not have
a way of comparing two of these items. You only have a way to, given three of them, find
out which one is the median, that is, which one is neither the minimum nor the maximum among
the three.
</p><p>
For example, suppose $$$\mathbf{N} = 5$$$ and you know that:
<ul>
<li>$$$x_1$$$ is the median of $$$\{x_1, x_2, x_3\}$$$</li>
<li>$$$x_2$$$ is the median of $$$\{x_2, x_3, x_4\}$$$</li>
<li>$$$x_3$$$ is the median of $$$\{x_3, x_4, x_5\}$$$</li>
</ul>
</p><p>
Then, it is guaranteed that the sorted order of the elements is either
$$$x_4, x_2, x_1, x_3, x_5$$$ or its reverse $$$x_5, x_3, x_1, x_2, x_4$$$.
Notice that by knowing only medians, it is impossible to distinguish the order of any list
from its reverse, since the median question has the same result for any three
elements in both cases.
</p><p>
Your program will have to find the order of $$$\mathbf{T}$$$ lists of $$$\mathbf{N}$$$ elements using at most
$$$\mathbf{Q}$$$ median questions in total (or $$$\mathbf{Q} / \mathbf{T}$$$ queries per list on average).
In each case, finding either the right order or its reverse is considered correct.
The order for each case is generated uniformly at random from all possible orders,
and independently of any other information.
</p>

<h3>Input and output</h3>
<p>
  This is an interactive problem. You should make sure you have read the
  information in the Interactive Problems section of our
  <a href="https://codingcompetitions.withgoogle.com/codejam/faq" target="_blank">FAQ</a>.
</p><p>
  Initially, the judge will send you a single line containing three integers $$$\mathbf{T}$$$, $$$\mathbf{N}$$$, and
  $$$\mathbf{Q}$$$: the number of test cases, the number of elements to sort within each test case, and
  the total number of questions you are allowed across all test cases, respectively.
  Then, you must process $$$\mathbf{T}$$$ test cases. Each test case consists of a series of question exchanges
  plus an additional exchange to provide the answer.
</p><p>
  For a question exchange, your program must print a single line containing
  three distinct integers $$$i, j, k$$$ all between $$$1$$$ and $$$\mathbf{N}$$$, inclusive,
  which corresponds to asking the judge <i>"which element is the median of the set
  $$$\{x_i, x_j, x_k\}$$$?"</i>
  The judge will respond with a single line containing a single integer $$$\mathbf{L}$$$,
  meaning that the median of that set is $$$x_\mathbf{L}$$$ ($$$\mathbf{L}$$$ is always equal to
  one of $$$i$$$, $$$j$$$, or $$$k$$$).
  If you try to perform a $$$(\mathbf{Q}+1)$$$-th question exchange, the judge will simply output
  <code>-1</code>.
</p><p>
  Once you are ready to state the result, print a line containing $$$\mathbf{N}$$$ integers
  representing the indices of the elements in sorted or reverse sorted order.
  The judge will respond with a single integer <code>1</code> if your answer
  is correct or <code>-1</code> if it is not. After receiving the judge's answer for the
  $$$\mathbf{T}$$$-th case, your program must finish in time in order to not receive a Time Limit Exceeded
  error. In addition, if you print additional information after receiving the result
  for the $$$\mathbf{T}$$$-th case, you will get a Wrong Answer judgment.
</p><p>
  If the judge receives an invalidly formatted line or invalid values from your
  program at any moment, the judge will print a single number <code>-1</code>.
  After the judge prints <code>-1</code> for any of the reasons explained above,
  it will not print any further output. If your program continues to wait for the judge after
  receiving a <code>-1</code>, your program will time out, resulting in a Time Limit
  Exceeded error. Notice that it is your responsibility to have your program
  exit in time to receive a Wrong Answer judgment instead of a Time Limit
  Exceeded error. As usual, if the memory limit is exceeded, or your program
  gets a runtime error, you will receive the appropriate judgment.
</p>

<h3>Limits</h3>
<p>
Time limit: 40 seconds.<br/>
Memory limit: 1 GB.<br/>

$$$\mathbf{T} = 100$$$.<br/>
</p>

<h4>Test Set 1 (Visible Verdict)</h4>
<p>

$$$\mathbf{N} = 10$$$.<br/>
$$$\mathbf{Q} = 300 \cdot \mathbf{T}$$$.<br/>
</p>

<h4>Test Set 2 (Visible Verdict)</h4>
<p>

$$$\mathbf{N} = 50$$$.<br/>
$$$\mathbf{Q} = 300 \cdot \mathbf{T}$$$.<br/>
</p>

<h4>Test Set 3 (Hidden Verdict)</h4>
<p>

$$$\mathbf{N} = 50$$$.<br/>
$$$\mathbf{Q} = 170 \cdot \mathbf{T}$$$.<br/>
</p>


<h3>Testing Tool</h3>
<p>
  You can use this testing tool to test locally or on our platform. To test
  locally, you will need to run the tool in parallel with your code; you can
  use our <a href="https://storage.googleapis.com/coding-competitions.appspot.com/interactive_runner.py">interactive runner</a>
  for that. For more information, read the instructions in comments in that
  file, and also check out the
  <a href="/codejam/faq#interactive-problems" target="_blank">Interactive Problems section</a>
  of the FAQ.
</p><p>
  Instructions for the testing tool are included in comments within the tool.
  We encourage you to add your own test cases. Please be advised that although
  the testing tool is intended to simulate the judging system, it is <b>NOT</b>
  the real judging system and might behave differently. If your code passes the
  testing tool but fails the real judge, please check the
  <a href="/codejam/faq#coding" target="_blank">Coding section</a>
  of the FAQ to make sure that you are using the same compiler as us.
</p><p>
<a href="local_testing_tool.py" download="testing_tool.py">Download testing tool</a>
</p>


  <div class="sample-interaction-wrapper">
    <div class="sample-interaction-header">
      <div class="sample-interaction-header-text">Sample Interaction</div>
    </div>
    <div class="sample-interaction-content">
      <div class="sample-interaction-judge-solution-labels">
        <div class="sample-interaction-judge-label">Judge</div>
        <div class="sample-interaction-solution-label">Solution</div>
      </div>
      
  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-block-section-label">Constraints<br>
</div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">2 5 600
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge provides $$$\mathbf{T}$$$, $$$\mathbf{N}$$$, $$$\mathbf{Q}$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-block-section-label">Case 1<br>
</div>

  <div class="sample-interaction-solution-output-wrapper">
    <div class="sample-interaction-solution-output-box">
      <pre class="sample-interaction-solution-output-test">1 2 3
</pre>
    </div>
  </div>

  <div class="sample-interaction-solution-note">Solution asks for the median of $$$\{x_1, x_2, x_3\}$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">2
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge responds that the median is $$$x_2$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-solution-output-wrapper">
    <div class="sample-interaction-solution-output-box">
      <pre class="sample-interaction-solution-output-test">4 2 3
</pre>
    </div>
  </div>

  <div class="sample-interaction-solution-note">Solution asks for the median of $$$\{x_4, x_2, x_3\}$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">3
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge responds that the median is $$$x_3$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-solution-output-wrapper">
    <div class="sample-interaction-solution-output-box">
      <pre class="sample-interaction-solution-output-test">5 4 3
</pre>
    </div>
  </div>

  <div class="sample-interaction-solution-note">Solution asks for the median of $$$\{x_5, x_4, x_3\}$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">4
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge responds that the median is $$$x_4$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-solution-output-wrapper">
    <div class="sample-interaction-solution-output-box">
      <pre class="sample-interaction-solution-output-test">5 4 3 2 1
</pre>
    </div>
  </div>

  <div class="sample-interaction-solution-note">Solution outputs the sorted list<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">1
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge confirms that the answer is correct<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-block-section-label">Case 2<br>
</div>

  <div class="sample-interaction-solution-output-wrapper">
    <div class="sample-interaction-solution-output-box">
      <pre class="sample-interaction-solution-output-test">1 2 3
</pre>
    </div>
  </div>

  <div class="sample-interaction-solution-note">Solution asks for the median of $$$\{x_1, x_2, x_3\}$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">3
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge responds that the median is $$$x_3$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-solution-output-wrapper">
    <div class="sample-interaction-solution-output-box">
      <pre class="sample-interaction-solution-output-test">2 3 4
</pre>
    </div>
  </div>

  <div class="sample-interaction-solution-note">Solution asks for the median of $$$\{x_2, x_3, x_4\}$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">4
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge responds that the median is $$$x_4$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-solution-output-wrapper">
    <div class="sample-interaction-solution-output-box">
      <pre class="sample-interaction-solution-output-test">3 4 5
</pre>
    </div>
  </div>

  <div class="sample-interaction-solution-note">Solution asks for the median of $$$\{x_3, x_4, x_5\}$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">5
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge responds that the median is $$$x_5$$$<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-solution-output-wrapper">
    <div class="sample-interaction-solution-output-box">
      <pre class="sample-interaction-solution-output-test">1 3 5 4 2
</pre>
    </div>
  </div>

  <div class="sample-interaction-solution-note">Solution outputs the sorted list<br>
</div>

  <div class="sample-interaction-block-spacer"></div>

  <div class="sample-interaction-judge-output-wrapper">
    <div class="sample-interaction-judge-output-box">
      <pre class="sample-interaction-judge-output-test">1
</pre>
    </div>
  </div>

  <div class="sample-interaction-judge-note">Judge confirms that the answer is correct<br>
</div>

    </div>
  </div>


    </div>
  </body>
</html>
